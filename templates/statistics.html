{% extends "base.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h2 class="display-5 mb-4">
            <i class="fas fa-chart-bar me-2"></i>System Statistics
        </h2>
    </div>
</div>
<div class="row">
    <div class="col-md-3 mb-3">
        <div class="card stats-card h-100">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-phone me-2"></i>Call Volume</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item bg-transparent">Police: <span class="fw-bold">{{ stats.call_volume_by_type.police }}</span></li>
                    <li class="list-group-item bg-transparent">Fire: <span class="fw-bold">{{ stats.call_volume_by_type.fire }}</span></li>
                    <li class="list-group-item bg-transparent">Medical: <span class="fw-bold">{{ stats.call_volume_by_type.medical }}</span></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-md-3 mb-3">
        <div class="card stats-card h-100">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-check-circle me-2"></i>Completion Rate</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item bg-transparent">Completed: <span class="fw-bold">{{ stats.completion_rate.completed }}</span></li>
                    <li class="list-group-item bg-transparent">Total: <span class="fw-bold">{{ stats.completion_rate.total }}</span></li>
                    <li class="list-group-item bg-transparent">Rate: <span class="fw-bold">{{ stats.completion_rate.completion_rate }}%</span></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-md-3 mb-3">
        <div class="card stats-card h-100">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-stopwatch me-2"></i>Response Times</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item bg-transparent">Average: <span class="fw-bold">{{ stats.response_times.average }}</span></li>
                    <li class="list-group-item bg-transparent">Median: <span class="fw-bold">{{ stats.response_times.median }}</span></li>
                    <li class="list-group-item bg-transparent">Max: <span class="fw-bold">{{ stats.response_times.max }}</span></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-md-3 mb-3">
        <div class="card stats-card h-100">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-truck me-2"></i>Unit Utilization</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item bg-transparent">Total Units: <span class="fw-bold">{{ stats.unit_utilization.total }}</span></li>
                    <li class="list-group-item bg-transparent">Busy Units: <span class="fw-bold">{{ stats.unit_utilization.busy }}</span></li>
                    <li class="list-group-item bg-transparent">Utilization: <span class="fw-bold">{{ stats.unit_utilization.utilization_rate }}%</span></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="mt-4">
    <a href="{{ url_for('generate_report') }}" class="btn btn-primary me-2">
        <i class="fas fa-file-download me-1"></i>Download PDF Report
    </a>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">
        <i class="fas fa-arrow-left me-1"></i>Back to Dashboard
    </a>
</div>
{% endblock %}